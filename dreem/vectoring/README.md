# DREEM Vectoring Module
Contributor: Matty Allan, Yves Martin

## Purpose
- Convert mapped reads into mutation vectors


## Interface

### Input Files
- [=1] ```{reference}.fasta``` Sequence record file that contains the names and sequences of all references.
- [≥1] ```/{sample}``` Sequence alignment map files folder(s) generated by ```alignment```. Its content is the following:
```bash
{input_dir}:= /path/to/{sample}/
  |- construct_1.bam
  |- construct_1.bam.bai
  |- construct_1_fastqc_report.txt
  |- construct_2.bam
  |- construct_2.bam.bai
  |- construct_2_fastqc_report.txt
  |- ...
```

### Output Files
```bash
/{out_dir}/output/vectoring/{sample}/
  |- report.txt
  |- construct_1.orc
  |- construct_2.orc
  |- ...
```

### Command-line usage
```dreem-vectoring -fa reference.fasta -bam path/to/sample_bam```
- [=1] ```-fa / --fasta```: Input fasta file path.
- [≥1] ```--input_dir```: Sequence alignment map files folder(s) generated by ```alignment```. Last folder of this path is `{sample}`, and `{sample}` will be used as a name for the output containing folder. `{input_dir}:= /path/to/{sample}`.
- [≥0] ```-c [ref | first | last]```: First and last coordinates for reference ref (creates one mutational profile); using 0 for last is shorthand for the last coordinate of the sequnce, -1 for the second-to-last, and so on.
- [≥0] ```-p [ref | fwd | rev]```: Forward and reverse primers for reference ref (creates one mutational profile)
- [≤1] ```--fill```: For every reference in ```reference.fasta``` that was not explicitly specified using a ```-c``` or ```-p``` option, create a mutational profile for the entire sequence. Note: if none of ```-c```, ```-p``` or ```--fill``` are given, then no mutational profiles will be generated.
- [≤1] ```-P```: Parallelize the processing of mutational ```profiles``` or process each profile in series and parallelize processing ```reads``` within each profile, turn all paralleization ```off```, or (default) ```auto```matically choose "reads" if processing 1 profile, otherwise "profiles".
